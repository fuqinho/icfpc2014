#include "mapstore.h"
#include "map_generator.h"
#include <vector>
#include <string>
#include <cstdlib>

using namespace std;

static const vector<string> CLASSIC = {
  "#######################",
  "#..........#..........#",
  "#.###.####.#.####.###.#",
  "#o###.####.#.####.###o#",
  "#.....................#",
  "#.###.#.#######.#.###.#",
  "#.....#....#....#.....#",
  "#####.#### # ####.#####",
  "#   #.#    =    #.#   #",
  "#####.# ### ### #.#####",
  "#    .  # === #  .    #",
  "#####.# ####### #.#####",
  "#   #.#    %    #.#   #",
  "#####.# ####### #.#####",
  "#..........#..........#",
  "#.###.####.#.####.###.#",
  "#o..#......\\......#..o#",
  "###.#.#.#######.#.#.###",
  "#.....#....#....#.....#",
  "#.########.#.########.#",
  "#.....................#",
  "#######################"
};

static const vector<string> WORLD_1 = {
  "##############",
  "#o....%......#",
  "#.#.######.#.#",
  "#.#........#.#",
  "#.#.#====#.#.#",
  "#...######...#",
  "###.#..\\.#.###",
  "#...#.##.#...#",
  "#.#...##...#.#",
  "#.###.##.###.#",
  "#.....##....o#",
  "##############"
};

static const vector<string> WORLD_2 = {
  "###############",
  "#\\...........o#",
  "#.###.###.###.#",
  "#.# #.# #.# #.#",
  "#.###.###.###.#",
  "#.............#",
  "#.###.###.###.#",
  "#.# #.# #.# #.#",
  "#.###.###.###.#",
  "#.............#",
  "#.###.###=###.#",
  "#.# #.# #.# #.#",
  "#.###.###.###.#",
  "#o.....%.....=#",
  "###############"
};

static const vector<string> GHOSTBUSTERS = {
  "####################",
  "#\\.=...............#",
  "# ##################",
  "# ...=.............#",
  "# ##################",
  "# .....=...........#",
  "# ##################",
  "# .......=.........#",
  "# ##################",
  "# .........=.......#",
  "# ##################",
  "# ...........=.....#",
  "# ##################",
  "# .............=...#",
  "# ##################",
  "# ...............=.#",
  "# ##################",
  "# oooooooooooooooo%#",
  "####################"
};

static const vector<string> PROTON_PACK = {
  "###############",
  "#\\...........o#",
  "#.###.###.###.#",
  "#.# #.# #.# #.#",
  "#.###.###.###.#",
  "#.............#",
  "#.###.###.###.#",
  "#.# #.# #.# #.#",
  "#.###.###.###.#",
  "#.............#",
  "#.###.###=###.#",
  "#.# #.# #.# #.#",
  "#.###.###.###.#",
  "#o.....%.....=#",
  "###############"
};

vector<string> GetMap(string id) {
  if (id == "classic") return CLASSIC;
  if (id == "world-1") return WORLD_1;
  if (id == "world-2") return WORLD_2;
  if (id == "ghostbusters") return GHOSTBUSTERS;
  if (id == "proton-pack") return PROTON_PACK;
  
  if (id.substr(0, 6) == "random") {
    int level = 5;
    if (id.length() > 6)
      level = atoi(id.substr(6).c_str());
    MapGenerator generator;
    return generator.Generate(level);
  }
  return vector<string>();
}

